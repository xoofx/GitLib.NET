//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------
using System;

namespace GitLib
{
    using System.Runtime.InteropServices;
    
    public static partial class libgit2
    {
        /// <summary>
        /// Allocate a new mailmap object.
        /// </summary>
        /// <param name="out">pointer to store the new mailmap</param>
        /// <returns>0 on success, or an error code</returns>
        /// <remarks>
        /// This object is empty, so you'll have to add a mailmap file before you can do
        /// anything with it. The mailmap must be freed with 'git_mailmap_free'.
        /// </remarks>
        public static git_result git_mailmap_new(out git_mailmap @out)
        {
            var __result__ = git_mailmap_new__(out @out).Check();
            return __result__;
        }
        
        [DllImport(GitLibName, EntryPoint = "git_mailmap_new", CallingConvention = CallingConvention.Cdecl)]
        private static extern git_result git_mailmap_new__(out git_mailmap @out);
        
        /// <summary>
        /// Free the mailmap and its associated memory.
        /// </summary>
        /// <param name="mm">the mailmap to free</param>
        [DllImport(GitLibName, CallingConvention = CallingConvention.Cdecl)]
        public static extern void git_mailmap_free(git_mailmap mm);
        
        /// <summary>
        /// Add a single entry to the given mailmap object. If the entry already exists,
        /// it will be replaced with the new entry.
        /// </summary>
        /// <param name="mm">mailmap to add the entry to</param>
        /// <param name="real_name">the real name to use, or NULL</param>
        /// <param name="real_email">the real email to use, or NULL</param>
        /// <param name="replace_name">the name to replace, or NULL</param>
        /// <param name="replace_email">the email to replace</param>
        /// <returns>0 on success, or an error code</returns>
        public static git_result git_mailmap_add_entry(git_mailmap mm, [MarshalAs(UnmanagedType.CustomMarshaler, MarshalTypeRef = typeof(UTF8MarshalerStrict))] string real_name, [MarshalAs(UnmanagedType.CustomMarshaler, MarshalTypeRef = typeof(UTF8MarshalerStrict))] string real_email, [MarshalAs(UnmanagedType.CustomMarshaler, MarshalTypeRef = typeof(UTF8MarshalerStrict))] string replace_name, [MarshalAs(UnmanagedType.CustomMarshaler, MarshalTypeRef = typeof(UTF8MarshalerStrict))] string replace_email)
        {
            var __result__ = git_mailmap_add_entry__(mm, real_name, real_email, replace_name, replace_email).Check();
            return __result__;
        }
        
        [DllImport(GitLibName, EntryPoint = "git_mailmap_add_entry", CallingConvention = CallingConvention.Cdecl)]
        private static extern git_result git_mailmap_add_entry__(git_mailmap mm, [MarshalAs(UnmanagedType.CustomMarshaler, MarshalTypeRef = typeof(UTF8MarshalerStrict))] string real_name, [MarshalAs(UnmanagedType.CustomMarshaler, MarshalTypeRef = typeof(UTF8MarshalerStrict))] string real_email, [MarshalAs(UnmanagedType.CustomMarshaler, MarshalTypeRef = typeof(UTF8MarshalerStrict))] string replace_name, [MarshalAs(UnmanagedType.CustomMarshaler, MarshalTypeRef = typeof(UTF8MarshalerStrict))] string replace_email);
        
        /// <summary>
        /// Create a new mailmap instance containing a single mailmap file
        /// </summary>
        /// <param name="out">pointer to store the new mailmap</param>
        /// <param name="buf">buffer to parse the mailmap from</param>
        /// <param name="len">the length of the input buffer</param>
        /// <returns>0 on success, or an error code</returns>
        public static git_result git_mailmap_from_buffer(out git_mailmap @out, [MarshalAs(UnmanagedType.CustomMarshaler, MarshalTypeRef = typeof(UTF8MarshalerStrict))] string buf, size_t len)
        {
            var __result__ = git_mailmap_from_buffer__(out @out, buf, len).Check();
            return __result__;
        }
        
        [DllImport(GitLibName, EntryPoint = "git_mailmap_from_buffer", CallingConvention = CallingConvention.Cdecl)]
        private static extern git_result git_mailmap_from_buffer__(out git_mailmap @out, [MarshalAs(UnmanagedType.CustomMarshaler, MarshalTypeRef = typeof(UTF8MarshalerStrict))] string buf, size_t len);
        
        /// <summary>
        /// Create a new mailmap instance from a repository, loading mailmap files based
        /// on the repository's configuration.
        /// </summary>
        /// <param name="out">pointer to store the new mailmap</param>
        /// <param name="repo">repository to load mailmap information from</param>
        /// <returns>0 on success, or an error code</returns>
        /// <remarks>
        /// Mailmaps are loaded in the following order:
        /// 1. '.mailmap' in the root of the repository's working directory, if present.
        /// 2. The blob object identified by the 'mailmap.blob' config entry, if set.
        /// [NOTE: 'mailmap.blob' defaults to 'HEAD:.mailmap' in bare repositories]
        /// 3. The path in the 'mailmap.file' config entry, if set.
        /// </remarks>
        public static git_result git_mailmap_from_repository(out git_mailmap @out, git_repository repo)
        {
            var __result__ = git_mailmap_from_repository__(out @out, repo).Check();
            return __result__;
        }
        
        [DllImport(GitLibName, EntryPoint = "git_mailmap_from_repository", CallingConvention = CallingConvention.Cdecl)]
        private static extern git_result git_mailmap_from_repository__(out git_mailmap @out, git_repository repo);
        
        /// <summary>
        /// Resolve a name and email to the corresponding real name and email.
        /// </summary>
        /// <param name="real_name">pointer to store the real name</param>
        /// <param name="real_email">pointer to store the real email</param>
        /// <param name="mm">the mailmap to perform a lookup with (may be NULL)</param>
        /// <param name="name">the name to look up</param>
        /// <param name="email">the email to look up</param>
        /// <returns>0 on success, or an error code</returns>
        /// <remarks>
        /// The lifetime of the strings are tied to `mm`, `name`, and `email` parameters.
        /// </remarks>
        public static git_result git_mailmap_resolve(out string real_name, out string real_email, git_mailmap mm, [MarshalAs(UnmanagedType.CustomMarshaler, MarshalTypeRef = typeof(UTF8MarshalerStrict))] string name, [MarshalAs(UnmanagedType.CustomMarshaler, MarshalTypeRef = typeof(UTF8MarshalerStrict))] string email)
        {
            var __result__ = git_mailmap_resolve__(out real_name, out real_email, mm, name, email).Check();
            return __result__;
        }
        
        [DllImport(GitLibName, EntryPoint = "git_mailmap_resolve", CallingConvention = CallingConvention.Cdecl)]
        private static extern git_result git_mailmap_resolve__(out string real_name, out string real_email, git_mailmap mm, [MarshalAs(UnmanagedType.CustomMarshaler, MarshalTypeRef = typeof(UTF8MarshalerStrict))] string name, [MarshalAs(UnmanagedType.CustomMarshaler, MarshalTypeRef = typeof(UTF8MarshalerStrict))] string email);
        
        /// <summary>
        /// Resolve a signature to use real names and emails with a mailmap.
        /// </summary>
        /// <param name="out">new signature</param>
        /// <param name="mm">mailmap to resolve with</param>
        /// <param name="sig">signature to resolve</param>
        /// <returns>0 or an error code</returns>
        /// <remarks>
        /// Call `git_signature_free()` to free the data.
        /// </remarks>
        public static git_result git_mailmap_resolve_signature(out IntPtr @out, git_mailmap mm, in git_signature sig)
        {
            var __result__ = git_mailmap_resolve_signature__(out @out, mm, sig).Check();
            return __result__;
        }
        
        [DllImport(GitLibName, EntryPoint = "git_mailmap_resolve_signature", CallingConvention = CallingConvention.Cdecl)]
        private static extern git_result git_mailmap_resolve_signature__(out IntPtr @out, git_mailmap mm, in git_signature sig);
    }
}
